<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Always Be Coding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Always Be Coding">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Always Be Coding">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Always Be Coding">
  
    <link rel="alternate" href="/atom.xml" title="Always Be Coding" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Always Be Coding</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-二叉树层次遍历II" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/11/二叉树层次遍历II/" class="article-date">
  <time datetime="2018-07-11T12:50:02.000Z" itemprop="datePublished">2018-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/11/二叉树层次遍历II/">二叉树层次遍历II</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>给定一个二叉树，返回其节点值自底向上的层次遍历。 （即按从叶子节点所在层到根节点所在的层，逐层从左向右遍历）</p>
<p>例如：<br>给定二叉树 [3,9,20,null,null,15,7],</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">  / \</span><br><span class="line"> 9  20</span><br><span class="line">   /  \</span><br><span class="line">  15   7</span><br></pre></td></tr></table></figure>
<p>返回其自底向上的层次遍历为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [15,7],</span><br><span class="line">  [9,20],</span><br><span class="line">  [3]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>思路：</p>
<p>这个跟leetcode-102-Binary Tree Level Order Traversal 其实差不多的。</p>
<p>唯一不同的是在每一层遍历完之后，得到本层的数值，插入到最终result数组里的时候从头插入，即可实现倒序。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrderBottom(TreeNode* root)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">queue</span>&lt;TreeNode*&gt;que;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;result;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">NULL</span>)<span class="keyword">return</span> result;</span><br><span class="line">        que.push(root);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!que.empty())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> size = que.size();</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                TreeNode* node = que.front();</span><br><span class="line">                que.pop();</span><br><span class="line">                temp.push_back(node-&gt;val);</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;left != <span class="literal">NULL</span>)que.push(node-&gt;left);</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;right != <span class="literal">NULL</span>)que.push(node-&gt;right);</span><br><span class="line">            &#125;            </span><br><span class="line">            result.insert(result.begin(), temp);<span class="comment">//从头部插入即可实现倒序</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/11/二叉树层次遍历II/" data-id="cjk5lpiy5002fxa8olcuueqdk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-二叉树层次遍历I" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/11/二叉树层次遍历I/" class="article-date">
  <time datetime="2018-07-11T12:39:40.000Z" itemprop="datePublished">2018-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/11/二叉树层次遍历I/">二叉树层次遍历I</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>给定一个二叉树，返回其按层次遍历的节点值。 （即逐层地，从左到右访问所有节点）。</p>
<p>例如:<br>给定二叉树: [3,9,20,null,null,15,7],</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure>
<p>返回其层次遍历结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [3],</span><br><span class="line">  [9,20],</span><br><span class="line">  [15,7]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>思路：</p>
<p>与普通层次遍历稍微不一样的地方就是，需要分出每一层的结点数据来。</p>
<p>如果提前知道每一层数据的个数n，那么只需要循环n次即可取出这一层的数据。那么刚好保持队列内一直为同一层的数据即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; levelOrder(TreeNode* root) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        <span class="built_in">queue</span>&lt;TreeNode*&gt; que;</span><br><span class="line">        que.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!que.empty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = que.size();</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">                TreeNode* node = que.front();</span><br><span class="line">                que.pop();</span><br><span class="line">                temp.push_back(node-&gt;val);</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;left != <span class="literal">NULL</span>)que.push(node-&gt;left);</span><br><span class="line">                <span class="keyword">if</span> (node-&gt;right != <span class="literal">NULL</span>)que.push(node-&gt;right);</span><br><span class="line">            &#125;</span><br><span class="line">            result.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/11/二叉树层次遍历I/" data-id="cjk5lpiy3002exa8o8qbygz9i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-strStr" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/11/strStr/" class="article-date">
  <time datetime="2018-07-11T11:56:45.000Z" itemprop="datePublished">2018-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/11/strStr/">strStr</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>实现 strStr() 函数。</p>
<p>给定一个 haystack 字符串和一个 needle 字符串，在 haystack 字符串中找出 needle 字符串出现的第一个位置 (从0开始)。如果不存在，则返回  -1。</p>
<p>示例 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: haystack = &quot;hello&quot;, needle = &quot;ll&quot;</span><br><span class="line">输出: 2</span><br></pre></td></tr></table></figure>
<p>示例 2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: haystack = &quot;aaaaa&quot;, needle = &quot;bba&quot;</span><br><span class="line">输出: -1</span><br></pre></td></tr></table></figure>
<p>说明:</p>
<p>当 needle 是空字符串时，我们应当返回什么值呢？这是一个在面试中很好的问题。</p>
<p>对于本题而言，当 needle 是空字符串时我们应当返回 0 。这与C语言的 strstr() 以及 Java的 indexOf() 定义相符。</p>
<p>题解一：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (needle == <span class="string">""</span>) </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (haystack.size() &lt; needle.size())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; haystack.size() - needle.size() + <span class="number">1</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> p = i, j = <span class="number">0</span>; j &lt; needle.size(); ++j, ++p) &#123;</span><br><span class="line">                <span class="keyword">if</span> (haystack[p] != needle[j])&#123;</span><br><span class="line">                    flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag == <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>题解二：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">strStr</span><span class="params">(<span class="built_in">string</span> haystack, <span class="built_in">string</span> needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(needle == <span class="string">""</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(haystack.size() &lt; needle.size()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; haystack.size()-needle.size()+<span class="number">1</span>;++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(haystack.substr(i,needle.size()) == needle)</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/11/strStr/" data-id="cjk5lpiy00029xa8ofjyifjpi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-golang-container" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/09/golang-container/" class="article-date">
  <time datetime="2018-07-09T12:35:40.000Z" itemprop="datePublished">2018-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/09/golang-container/">golang_container</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>定义数组的三种方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr1 [5]int</span><br><span class="line">arr2 := [3]int&#123;1, 3, 5&#125;</span><br><span class="line">arr3 := [...]int&#123;2, 4, 6, 8, 10&#125;</span><br><span class="line">var grid [4][5]int</span><br></pre></td></tr></table></figure>
<p>函数形参中含有数组，是传值，在函数体中对数组的改变不会影响到实参数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func printArray(arr [5]int) &#123;</span><br><span class="line">	arr[0] = 100</span><br><span class="line">	for i, v := range arr &#123;</span><br><span class="line">		fmt.Println(i, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>slice是array的view，包含ptr，len和cap三个成员。函数形参中用slice会改变实参中数组的值。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/09/golang-container/" data-id="cjk5lpixt001wxa8o3m2u2sm9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数字货币简单分类" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/09/数字货币简单分类/" class="article-date">
  <time datetime="2018-07-09T05:40:28.000Z" itemprop="datePublished">2018-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/09/数字货币简单分类/">数字货币简单分类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>数据货币可以简单的分为如下几个大类：</p>
<ol>
<li><p>货币类</p>
<p> 货币类是指在区块链领域充当货币功能，解决价值传递的问题，如BTC、BCH、LTC、ZEC等。</p>
</li>
<li><p>公链类<br> 基础链，解决技术承载的问题。如ETH、EOS、NEO、量子链、IOTA等。</p>
</li>
<li><p>平台类<br> 平台币主要是以交易所为依靠，靠交易所的分红和利好维持价格。如HT，BNB，OKB,ZB等。</p>
</li>
<li><p>应用类<br> 这个类别的币主要是解决原有互联网场景下所不能解决的价值传输的问题，绝大部分多少依托公链进行开发，如建立在ETH平台上的应用：SNT、MCO、DGD、MANA，建立在EOS上的UIP、OCT，建立在NEO上的ONT，GAS等。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/09/数字货币简单分类/" data-id="cjk5lpiyd002oxa8ottj9ush9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cryptocurrency/">cryptocurrency</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-比特币区块结构剖析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/07/比特币区块结构剖析/" class="article-date">
  <time datetime="2018-07-07T15:05:37.000Z" itemprop="datePublished">2018-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/07/比特币区块结构剖析/">比特币区块结构剖析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>比特币的区块数据里包含了比特币链上的核心信息，包括比特币如何交易，区块扩容等问题。 比特币从诞生到现在，每10分钟诞生一个区块，访问 <a href="https://blockchain.info/" target="_blank" rel="noopener">https://blockchain.info/</a> 查看最近的区块信息，可以看到当前的区块大小已经是中本聪设置的1MB容量。</p>
<p>比特币的区块数据里包含了比特币链上的核心信息，包括比特币如何交易，区块扩容等问题。</p>
<p>比特币从诞生到现在，每10分钟诞生一个区块，访问 blockchain.info/ 查看最近的区块信息，可以看到当前的区块大小已经是中本聪设置的1MB容量。<br><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1p8d5g4jj21ts0kated.jpg" alt=""></p>
<h2 id="一、区块链数据结构"><a href="#一、区块链数据结构" class="headerlink" title="一、区块链数据结构"></a>一、区块链数据结构</h2><p>一个完整的区块结构主要由以下几部分构成：<br><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1pf42c94j210e0k0q63.jpg" alt=""></p>
<h2 id="二、区块信息解析"><a href="#二、区块信息解析" class="headerlink" title="二、区块信息解析"></a>二、区块信息解析</h2><p>我们从 webbtc.com 选择一个区块哈希值为000000000003ba27aa200b1cecaad478d2b00432346c3f1f3986da1afd33e506的早期区块进行分析。<br><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1pg63aipj21uo0q0hcs.jpg" alt=""><br>可以看到该区块中包含了三笔交易信息，下面对区块信息字段进行解析。</p>
<h3 id="1-区块头分析"><a href="#1-区块头分析" class="headerlink" title="1.区块头分析"></a>1.区块头分析</h3><p>前80个字节是区块头。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;hash&quot;: &quot;000000000003ba27aa200b1cecaad478d2b00432346c3f1f3986da1afd33e506&quot;,</span><br><span class="line">    &quot;ver&quot;: 1,</span><br><span class="line">    &quot;prev_block&quot;: &quot;000000000002d01c1fccc21636b607dfd930d31d01c3a62104612a1719011250&quot;,</span><br><span class="line">    &quot;mrkl_root&quot;: &quot;f3e94742aca4b5ef85488dc37c06c3282295ffec960994b2c0d5ac2a25a95766&quot;,</span><br><span class="line">    &quot;time&quot;: 1293623863,</span><br><span class="line">    &quot;bits&quot;: 453281356,</span><br><span class="line">    &quot;nonce&quot;: 274148111</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1pik0da0j21020poq86.jpg" alt=""><br>说明：</p>
<ul>
<li>版本、父区块头哈希值和Merkle根采用的是小端格式编码，即低有效位放在前面。</li>
<li>时间戳表示的是自1970年1月1日0时0分0秒以来的秒数</li>
</ul>
<h3 id="2-Coinbase交易信息分析"><a href="#2-Coinbase交易信息分析" class="headerlink" title="2.Coinbase交易信息分析"></a>2.Coinbase交易信息分析</h3><p>一个区块第一个交易规定为coinbase交易，即由挖矿产生的比特币奖励，可以看到目前挖出每个区块的奖励是12.5个比特币，下一次减半会发生在2020年。除了挖矿奖励，“矿工”的激励还有新增账本记账的手续费，在未来比特币总量不增加之后，后者会成为矿工的主要收入。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;hash&quot;: &quot;8c14f0db3df150123e6f3dbbf30f8b955a8249b62ac1d1ff16284aefa3d06d87&quot;,</span><br><span class="line">    &quot;ver&quot;: 1,</span><br><span class="line">    &quot;vin_sz&quot;: 1,</span><br><span class="line">    &quot;vout_sz&quot;: 1,</span><br><span class="line">    &quot;lock_time&quot;: 0,</span><br><span class="line">    &quot;size&quot;: 135,</span><br><span class="line">    &quot;in&quot;: [&#123;</span><br><span class="line">        &quot;prev_out&quot;: &#123;</span><br><span class="line">            &quot;hash&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,</span><br><span class="line">            &quot;n&quot;: 4294967295</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;coinbase&quot;: &quot;044c86041b020602&quot;</span><br><span class="line">    &#125;],</span><br><span class="line">    &quot;out&quot;: [&#123;</span><br><span class="line">        &quot;value&quot;: &quot;50.00000000&quot;,</span><br><span class="line">        &quot;scriptPubKey&quot;: &quot;041b0e8c2567c12536aa13357b79a073dc4444acb83c4ec7a0e2f99dd7457516c5817242da796924ca4e99947d087fedf9ce467cb9f7c6287078f801df276fdf84 OP_CHECKSIG&quot;,</span><br><span class="line">        &quot;next_in&quot;: &#123;</span><br><span class="line">            &quot;hash&quot;: &quot;f3e6066078e815bb24db0dfbff814f738943bddaaa76f8beba360cfe2882480a&quot;,</span><br><span class="line">            &quot;n&quot;: 12</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;],</span><br><span class="line">    &quot;nid&quot;: &quot;70ab531a68f973f7d20b8260cb5e7fecba3699c48715b8b44539ff9776d0b88e&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1pkjjresj2104112q81.jpg" alt=""></p>
<h3 id="3-交易信息记录"><a href="#3-交易信息记录" class="headerlink" title="3.交易信息记录"></a>3.交易信息记录</h3><p>下面来看下普通的交易记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;hash&quot;: &quot;fff2525b8931402dd09222c50775608f75787bd2b87e56995a7bdd30f79702c4&quot;,</span><br><span class="line">    &quot;ver&quot;: 1,</span><br><span class="line">    &quot;vin_sz&quot;: 1,</span><br><span class="line">    &quot;vout_sz&quot;: 2,</span><br><span class="line">    &quot;lock_time&quot;: 0,</span><br><span class="line">    &quot;size&quot;: 259,</span><br><span class="line">    &quot;in&quot;: [&#123;</span><br><span class="line">        &quot;prev_out&quot;: &#123;</span><br><span class="line">            &quot;hash&quot;: &quot;87a157f3fd88ac7907c05fc55e271dc4acdc5605d187d646604ca8c0e9382e03&quot;,</span><br><span class="line">            &quot;n&quot;: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;scriptSig&quot;: &quot;3046022100c352d3dd993a981beba4a63ad15c209275ca9470abfcd57da93b58e4eb5dce82022100840792bc1f456062819f15d33ee7055cf7b5ee1af1ebcc6028d9cdb1c3af774801 04f46db5e9d61a9dc27b8d64ad23e7383a4e6ca164593c2527c038c0857eb67ee8e825dca65046b82c9331586c82e0fd1f633f25f87c161bc6f8a630121df2b3d3&quot;</span><br><span class="line">    &#125;],</span><br><span class="line">    &quot;out&quot;: [&#123;</span><br><span class="line">            &quot;value&quot;: &quot;5.56000000&quot;,</span><br><span class="line">            &quot;scriptPubKey&quot;: &quot;OP_DUP OP_HASH160 c398efa9c392ba6013c5e04ee729755ef7f58b32 OP_EQUALVERIFY OP_CHECKSIG&quot;,</span><br><span class="line">            &quot;address&quot;: &quot;1JqDybm2nWTENrHvMyafbSXXtTk5Uv5QAn&quot;,</span><br><span class="line">            &quot;next_in&quot;: &#123;</span><br><span class="line">                &quot;hash&quot;: &quot;5aa8e36f9423ee5fcf17c1d0d45d6988b8a5773eae8ad25d945bf34352040009&quot;,</span><br><span class="line">                &quot;n&quot;: 6</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;value&quot;: &quot;44.44000000&quot;,</span><br><span class="line">            &quot;scriptPubKey&quot;: &quot;OP_DUP OP_HASH160 948c765a6914d43f2a7ac177da2c2f6b52de3d7c OP_EQUALVERIFY OP_CHECKSIG&quot;,</span><br><span class="line">            &quot;address&quot;: &quot;1EYTGtG4LnFfiMvjJdsU7GMGCQvsRSjYhx&quot;,</span><br><span class="line">            &quot;next_in&quot;: &#123;</span><br><span class="line">                &quot;hash&quot;: &quot;220ebc64e21abece964927322cba69180ed853bb187fbc6923bac7d010b9d87a&quot;,</span><br><span class="line">                &quot;n&quot;: 0</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;nid&quot;: &quot;fc7704fdd7ec5e69163e51b827fea2133990a26defee2b475408b3c16fd9a968&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="三、扩容问题如何解决"><a href="#三、扩容问题如何解决" class="headerlink" title="三、扩容问题如何解决"></a>三、扩容问题如何解决</h2><p>在比特币诞生初期，中本聪为了比特币系统的安全和稳定，防止比特币系统被攻击而把区块大小设置为1M。在当时比特币用户量少，比特币交易是不存在拥堵问题的。随着比特币网络的发展，单个区块存储的交易信息越来越多，1MB区块仅能容纳2000条左右交易，交易量大时需要排队等待区块写入确认，交易网络拥堵问题越来越严重，为此也出现了解决容量问题的几个方案。</p>
<h3 id="1-区块扩容"><a href="#1-区块扩容" class="headerlink" title="1.区块扩容"></a>1.区块扩容</h3><p>解决区块过小问题，最直接的办法就是扩容。区块体积中位数在2015年里得到了翻番，从1月份的292KB快速增长至12月份的749KB。2015 年12月比特币香港扩容会议由Pieter Wuille提出了隔离见证(Segregated Witness)之后，扩容问题甚至已经简化为仅升级至2MB。为什么不把区块设置的更大一些，比如30MB？区块存储的是交易信息，若提高区块体积限制至30MB，最大的问题不是CPU计算能力瓶颈，而是块的传播与存储。30MB的块可能会导致全网孤块率和空块率大幅上升，一年产出1.5TB的区块链数据也超出大部分节点机器的硬盘容量。基于这1.5TB的数据，区块链浏览器、钱包服务商等则可能膨胀10倍达到15TB，对于目前来说已经远超普通机器/数据库的磁盘容量。除了扩容，还有另外的解决方案就是隔离见证和闪电网络。</p>
<h3 id="2-隔离见证和闪电网络"><a href="#2-隔离见证和闪电网络" class="headerlink" title="2.隔离见证和闪电网络"></a>2.隔离见证和闪电网络</h3><p>隔离见证(SegWit)是把交易的签名数据从交易数据中剥离出来，用于解决延展性攻击。比特币交易主要是由两部分数据组成。其中一部分为交易数据，它负责记录比特币的来源和去处。而另外一部分则是见证数据，这部分数据由一些加密数据组成，用于证明这些交易请求是真实可信的。中本聪在设计比特币的时候直接把这两部分信息都放在了区块内，所以一个区块就承载不了更多的交易信息。如果隔离了“见证数据”，那么区块链只记录交易数据，那么一个区块可承载更多的交易。闪电网络（Lightning Network）方案是在比特币网络上再外加一个「闪电网络（Lightning Network）」，把原有比特币链上金额较少的交易，转移到这个闪电网络来处理，完成后再记录到原链上。这是一种链外交易（Off-chain transaction），目的是解决加快交易速度，以太坊（Ethereum）也有类似的方案叫Raiden Network。用搭乘公共汽车的来假设，试想像比特币的区块是一辆公共汽车，每隔十分钟，固定时间发车，当要乘车的人超过公共汽车容量，不能上车的人就要等待下一班。我们的目的就是让更多的人可以乘车，即承载更多的交易。</p>
<p><img src="http://ww1.sinaimg.cn/large/883ddbbdly1ft1pn1iyw6j20ze0ky4h7.jpg" alt=""></p>
<p>比特币区块链本身是可以根据交易费率来优先完成交易的，如果你想快速完成转账等功能，可以设置较高的手续费。这就类似公共汽车让出更高价格买票的人先上车，不愿付高车票的人就要一直等下去，直到坐车的人变少。隔离见证就是我们在公共汽车后面加挂一个货车（SegWit车箱），所有乘车的人都要把背包和行李放到这个货车上面，因为少了随身物品，每个人占的空间变少了，公共汽车就可以多载一些人，乘载量就变多了。闪电网络可以理解为在公交车路线旁边再架一条铁路，让挤不上公共汽车的人直接去坐火车，解决掉太多人要搭乘车（交易），而汽车太小的问题。隔离见证和闪电网络在技术上有可行性，但是同样有许多质疑。依赖于隔离见证的闪电网络等二层网络并不能被认为是比特币的扩容方案，因为闪电网络的交易并不等价于比特币的点对点的链上交易，大部分比特币交易的场景并不适用于闪电网络。假设闪电网络部署成功，也会存在大型支付中心的问题，这违背了比特币做为点对点支付系统的初衷。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/07/比特币区块结构剖析/" data-id="cjk5lpiyg002sxa8oeozwdfsr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blockchain/">blockchain</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-51-攻击" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/05/51-攻击/" class="article-date">
  <time datetime="2018-07-05T15:27:58.000Z" itemprop="datePublished">2018-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/05/51-攻击/">51%攻击</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="51-攻击解析"><a href="#51-攻击解析" class="headerlink" title="51%攻击解析"></a>51%攻击解析</h2><p>51%攻击是指掌握了比特币全网的51%算力之后，用这些算力来重新计算已经确认过的区块，使块链产生分叉并且获得利益的行为。</p>
<p>一、如何发动51%攻击？</p>
<p>假定发动51%攻击的人是一个理性的人，攻击的目的为了利益，而不是为了其他，因而攻击者在发动攻击前有两个条件：</p>
<p>1、掌握了比特币全网的51%算力<br>2、手里持有大量比特币</p>
<p>攻击者发动攻击</p>
<p>1、把比特币转到交易所或某个机构或个人，卖出所有比特币，并且收到钱、把钱提现到银行帐号(提现目的是为确保收益，也可不用提现)。这个时间越短越好，能大大节省攻击时间。</p>
<p>2、用51%算力从还没向交易所转币的区块开始重新生成区块</p>
<p>比如：向交易所转币的区块为第30万个区块，攻击者就在第29万9999个区块开始重新生成区块。</p>
<p>3、因为攻击者有51%算力，而且假设他能在攻击过程中保证一直51%算力，所以他的攻击一定成功，也就是说他生成的攻击块链一定能追上原块链。</p>
<p>4、当攻击块链的长度超过原块链2个区块，所有的客户端将丢弃原块链，接受攻击块链。至此，51%攻击成功。</p>
<p>二、造成后果</p>
<p>原块链上29万9999个区块之后交易全部作废，有以下影响：</p>
<p>A   29万9999个区块之后没有交易的客户的币数量没有任何影响。<br>B   29万9999个区块之后转出比特币的人会发现：币回来了。<br>C   29万9999个区块之后接收到比特币的人会发现：币消失了。<br>D   最重要的后果是：人们对比特币网络的信心降到冰点，比特币的币值将受到重创。</p>
<p>三、51%攻击方法说明如下</p>
<p>1、这是一种能够获得最大利益的51%攻击方法，因为我们假定攻击者是理性的、为获得利益而攻击，而非一心置比特币于死地而不求任何回报的疯子。</p>
<p>2、无需51%算力就可以发动51%攻击，比如45%算力，有成功可能性，但非确定性成功。有这么一个场景：原块链长度30万，攻击者具备45%算力，从29万9999个区块开始计算，运气好的话，攻击块链延长到30万零2个，而原块链还是30万长度，攻击就成功了。这种攻击影响的区块数量少，如果币数量小，则被发现的可能性很小。目前大家担心的是这种情况。本人认为，虽然连续产出3个区块的可能性不大，但不是没有出现过，ghash.io就出现过连续产出5-6个区块的情况。因而这种非51%攻击的可能性完全存在，比特币世界要时刻监控、密切注意。</p>
<p>3、有人说多等几个确认就能避免51%攻击。这话有严重问题。如果是非51%算力的攻击，多等几个确认是有效的，数量特别大的比特币转帐应该等几天。但是如果是51%算力攻击，就应该知道，如果攻击者能一直保持51%算力，他可以从比特币最近检查点之后的区块开始重新计算，攻击块链能追上原块链，成功只是时间问题。如果攻击花费了1年时间，也要等1年的确认吗，因而这种认识不全面。</p>
<p>4、攻击块链可以隐藏地计算，直到比原块链多两个块链后才放出，按照目前的比特币网络协议，可以马上取代原块链，因而整个攻击可以不为人所知，直至最后一时刻。</p>
<p>四、51%攻击悖论</p>
<p>我们原先假定发动51%攻击的人是为了利益，我们可以来计算一下攻击者的成本和收益。先回顾一下理解攻击者发动攻击的前提条件：</p>
<p>1、掌握了比特币全网的51%算力</p>
<p>分析第1点，掌握了比特币全网的51%算力，得需要多少钱。全网算力按照100P计算，矿机价格按照1T/8600元计算(这是目前最低的价格)</p>
<p>51P矿机购买费用=100P <em> 51% </em> 1024 * 8600元=449,126,400=4.5亿</p>
<p>要布署51P的算力以及发动攻击，我们精力估算额外需要1亿的其他费用和电费，因而计算为5.5亿。</p>
<p>2、要卖掉多少比特币</p>
<p>到底要卖掉多少比特币才能获得更多的利益呢。至少要获得至少5.5亿的收益，才能在帐面上收支平衡，但要做这么大的攻击，而且攻击后的币值会降低很多，因而一定要非常大的利益才能让攻击者这么做，因而我们按照卖掉比特币能获利20亿估计。</p>
<p>持有比特币=20亿/4000=50万个比特币</p>
<p>我们假设攻击者以1000元的成本拥有比特币，他原先的买币成本是2.5亿。<br>如果在短时间卖出50万个比特币，会把价格从4K打到谷底1K-2K了。<br>我们姑且假定，这是场外交易，对比特币价格没有影响。</p>
<p>3、成功实施51%攻击后的比特币价值</p>
<p>成功实施51%攻击后，我们认为在一段较长的时间内，人们对比特币的信心降低到冰点，比特币的价格会处于较低水平，如500元甚至更低，直至技术永远解决了51%攻击的可能性。</p>
<p>因而，即便攻击者成功实施了攻击，他的50万比特币的价值也将处于一个较低水平=50万 * 500=2.5亿。</p>
<p>4、攻击者的收支估算</p>
<p>攻击者以4K卖掉50万个比特币，获利20亿。</p>
<p>投入=5.5亿矿机+2.5亿比特币=8亿<br>收益=20亿-2.5亿-8亿+2.5亿=12亿</p>
<p>投入8亿，净收益12亿，这对比特币行业，绝对不是好收益。</p>
<p>5、8亿投资能获得多少收益</p>
<p>目前每天产出3600个比特币，如果一直保持51%算力可得到1836个，每月获得55080个比特币，按照4K计算收益为2亿。</p>
<p>攻击者持有的50万个比特币，当一个季度内比特币价格从4K到6K时，可以多获得10亿收益，这种价格上涨我认为是很正常的。</p>
<p>6、两种投资的收益对比</p>
<p>攻击是一种投资，诚实持币和挖矿也是一种投资。</p>
<p>攻击冒了巨大风险，获得12亿，如果在交易所大量抛售，获利还会更低；</p>
<p>诚实持币和挖矿，没有任何风险，一个季度内轻松获得收益=10亿+6亿=16亿。</p>
<p>我们假定的有理性的人，为了获得更大收益而攻击的人，实际上是不会发动这样的攻击的，这就是51%攻击悖论。</p>
<p>不过，如果是疯子或者国家，不惜血本只为毁灭比特币，我们没有办法阻止，也就没有必要讨论。</p>
<p>五、关于双花和虚花</p>
<p>关于这点已经在微博上说过多次，双花是指把一份币花了两次，且两次交易都被确认至少一次，其中一次交易一定是在孤立块中。目前大家所说的双花是交易可塑性问题：第一次交易不加交易费，被矿池排斥，欺骗某些无需确认的网站入帐后，再把币花到其他地方去。</p>
<p>双花是需要算力来保证的，可以是51%算力，也可以是45%算力，具体情况请看本文的第三部分的第二点，但要再次提醒的是：某个矿池连续产出3个区块，就有可能产生非51%算力的双花攻击，ghash.io出现过连续产出5-6个区块的情况，完全有能力发起这种攻击，因而比特币世界要时刻监控、密切注意。一旦出现孤立块，而且里面的交易输入在接下来几个块中重新出现，那很可能就是双花。我们看到：从今年4月份开始，孤立块出现得越来越多，应该有些情况。不过，我奇怪的是为什么blockchain.info关于孤立块的页面一直有BUG，一直不显示具体的孤立块内容，我10天或半月前向blockchain.info提过BUG，但是到现在为止还没有正常，但愿这是BUG，而非因其他原因而隐瞒数据。防范方法是多等几个确认，大额交易建议等1天(在这一点上，比特币天空网的多等几个确认的说法是对的)。</p>
<p>上文提到的交易可塑性问题，我们可以称之为虚花(这个名称从比特天空网的文章中借用而来，我觉得比较合适)，第一次交易未被纳入区块，第二次交易会被纳入区块，这种攻击无需算力，谁都可以发起攻击，接收方的防范也很简单，只需至少一个确认。</p>
<p>六、本文小结</p>
<p>1、真正的51%算力攻击一旦发生，后果会很严重，但51%攻击有悖论，使得它事实上难以发生，除非疯子或疯子国家。<br>2、双花攻击无需51%的算力，ghash.io的45%算力已经具备了双花攻击的条件，事情没有我们想像得那么乐观，比特币世界要重视这个事情。<br>3、双花和虚花可以多等几个确认来防范，真正的51%算力攻击多等几个确认也难以防范。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/05/51-攻击/" data-id="cjk5lpixc0014xa8of6shj6sa" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blockchain/">blockchain</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-learn-golang" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/02/learn-golang/" class="article-date">
  <time datetime="2018-07-02T10:09:20.000Z" itemprop="datePublished">2018-07-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/02/learn-golang/">learn_golang</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>变量定义</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableZeroValue</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">int</span> <span class="comment">//变量名在前，类型在后</span></span><br><span class="line">	<span class="keyword">var</span> s <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"%d %q\n"</span>, a, s)<span class="comment">//%q表示quotation的意思，会打出引号</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableInitialValue</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a, b <span class="keyword">int</span> = <span class="number">3</span>, <span class="number">4</span><span class="comment">//可以连续定义多个变量并分别赋初值</span></span><br><span class="line">	<span class="keyword">var</span> s <span class="keyword">string</span> = <span class="string">"abc"</span></span><br><span class="line">	fmt.Println(a, b, s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableTypeDeduction</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a, b, c, s = <span class="number">3</span>, <span class="number">4</span>, <span class="literal">true</span>, <span class="string">"def"</span><span class="comment">//不同类型的变量可以定义在同一行，并且具有类型推断</span></span><br><span class="line">	fmt.Println(a, b, c, s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">variableShorter</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a, b, c, s := <span class="number">3</span>, <span class="number">4</span>, <span class="literal">true</span>, <span class="string">"def"</span><span class="comment">//定义时可以省略var关键字，用:=来表示定义</span></span><br><span class="line">	b = <span class="number">5</span></span><br><span class="line">	fmt.Println(a, b, c, s)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以定义变量在函数外，该变量的作用域为包内部。此时不可以用:=来定义，只能通过var关键字。</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	aa = <span class="number">3</span></span><br><span class="line">	ss = <span class="string">"bb"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ul>
<li>内建变量类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bool, string</span><br><span class="line">(u)int, (u)int8, (u)int16, (u)int32, (u)int64, uintptr</span><br><span class="line">byte//8位, rune//类似char,占32位</span><br><span class="line">float32, float64, complex64, complex128</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func triangle() &#123;</span><br><span class="line">	var a, b int = 3, 4</span><br><span class="line">	fmt.Println(calcTriangle(a, b))//类型转换必须是手动添加，强制的</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>常量定义</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">const filename = &quot;abc.txt&quot;</span><br><span class="line">const a, b = 3, 4//const数值可作为各种类型使用</span><br><span class="line">var c int = int(math.Sqrt(a*a + b*b))</span><br><span class="line"></span><br><span class="line">//iota是golang语言的常量计数器,只能在常量的表达式中使用。</span><br><span class="line"></span><br><span class="line">//iota在const关键字出现时将被重置为0(const内部的第一行之前)，const中每新增一行常量声明将使iota计数一次(iota可理解为const语句块中的行索引)。</span><br><span class="line"></span><br><span class="line">//使用iota能简化定义，在定义枚举时很有用。</span><br><span class="line"></span><br><span class="line">type AudioOutput int</span><br><span class="line"></span><br><span class="line">const ( </span><br><span class="line">    OutMute AudioOutput = iota // 0 </span><br><span class="line">    OutMono                    // 1 </span><br><span class="line">    OutStereo                  // 2 </span><br><span class="line">    _ </span><br><span class="line">    _ </span><br><span class="line">    OutSurround                // 5 </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">type Allergen int</span><br><span class="line"></span><br><span class="line">const ( </span><br><span class="line">    IgEggs Allergen = 1 &lt;&lt; iota // 1 &lt;&lt; 0 which is 00000001 </span><br><span class="line">    IgChocolate                         // 1 &lt;&lt; 1 which is 00000010 </span><br><span class="line">    IgNuts                              // 1 &lt;&lt; 2 which is 00000100 </span><br><span class="line">    IgStrawberries                      // 1 &lt;&lt; 3 which is 00001000 </span><br><span class="line">    IgShellfish                         // 1 &lt;&lt; 4 which is 00010000 </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const (</span><br><span class="line">    Apple, Banana = iota + 1, iota + 2</span><br><span class="line">    Cherimoya, Durian</span><br><span class="line">    Elderberry, Fig</span><br><span class="line">)</span><br><span class="line">//iota 在下一行增长，而不是立即取得它的引用。</span><br><span class="line"></span><br><span class="line">// Apple: 1 </span><br><span class="line">// Banana: 2 </span><br><span class="line">// Cherimoya: 2 </span><br><span class="line">// Durian: 3 </span><br><span class="line">// Elderberry: 3 </span><br><span class="line">// Fig: 4</span><br><span class="line"></span><br><span class="line">//中间插队</span><br><span class="line">const ( </span><br><span class="line">    i = iota </span><br><span class="line">    j = 3.14 </span><br><span class="line">    k = iota </span><br><span class="line">    l </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">//那么打印出来的结果是 i=0,j=3.14,k=2,l=3</span><br></pre></td></tr></table></figure>
<ul>
<li>条件分支</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//读取文件内容</span><br><span class="line">//if条件不用加括号，用法有点像C语言的for</span><br><span class="line">const filename = &quot;abc.txt&quot;</span><br><span class="line">	if contents, err := ioutil.ReadFile(filename); err != nil &#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		fmt.Printf(&quot;%s\n&quot;, contents)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/02/learn-golang/" data-id="cjk5lpixy0025xa8o8u60ajd6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-变量内存地址分析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/20/变量内存地址分析/" class="article-date">
  <time datetime="2018-06-20T13:46:16.000Z" itemprop="datePublished">2018-06-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/20/变量内存地址分析/">变量内存地址分析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>话不多说，直接上代码做实验</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_SIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> st1;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> st2 = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> e = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> src1[MAX_SIZE];</span><br><span class="line"><span class="keyword">char</span> src2[MAX_SIZE] = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    <span class="keyword">int</span> d = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> f = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> st3;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> st4 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">char</span> src3[MAX_SIZE];</span><br><span class="line">    <span class="keyword">char</span> src4[MAX_SIZE] = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;a &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;st1 &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;st2&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;st3 &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;st4 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;src1 &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;src2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;e &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"------"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;c &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;d &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;f &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; &amp;src3 &lt;&lt; <span class="string">" "</span> &lt;&lt; &amp;src4 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/Users/hypermind/CLionProjects/namespace_test/cmake-build-debug/namespace_test</span><br><span class="line"><span class="number">0x10a3db108</span> <span class="number">0x10a3db0f0</span> <span class="comment">//全局变量a和b</span></span><br><span class="line"><span class="number">0x10a3db11c</span> <span class="number">0x10a3db104</span> <span class="comment">//静态全局变量st1和st2</span></span><br><span class="line"><span class="number">0x10a3db118</span> <span class="number">0x10a3db100</span> <span class="comment">//静态局部变量st3和st4</span></span><br><span class="line"><span class="number">0x10a3db10c</span> <span class="number">0x10a3db0f4</span> <span class="comment">//全局数组src1和src2</span></span><br><span class="line">------</span><br><span class="line"><span class="number">0x10a3daf08</span> <span class="comment">// 常全局变量e</span></span><br><span class="line">------</span><br><span class="line"><span class="number">0x7ffee5827988</span> <span class="number">0x7ffee5827984</span> <span class="comment">//局部变量c和d</span></span><br><span class="line"><span class="number">0x7ffee5827980</span> <span class="comment">//常局部变量f</span></span><br><span class="line"><span class="number">0x7ffee5827a3e</span> <span class="number">0x7ffee5827a34</span> <span class="comment">//局部数组src3和src4</span></span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>代码跑在MAC OS系统下，从测试结果可以明显看到，常全局变量在一个区域；局部变量、常局部变量、局部数组在一个区域；静态局部变量、全部变量、全局数组在一个区域。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/20/变量内存地址分析/" data-id="cjk5lpiyc002lxa8obur0g521" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ImplementStackusingQueues" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/08/ImplementStackusingQueues/" class="article-date">
  <time datetime="2018-06-08T09:34:51.000Z" itemprop="datePublished">2018-06-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/08/ImplementStackusingQueues/">Implement Stack using Queues</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="225-Implement-Stack-using-Queues"><a href="#225-Implement-Stack-using-Queues" class="headerlink" title="225. Implement Stack using Queues"></a>225. Implement Stack using Queues</h2><p>Implement the following operations of a stack using queues.</p>
<p>push(x) – Push element x onto stack.<br>pop() – Removes the element on top of the stack.<br>top() – Get the top element.<br>empty() – Return whether the stack is empty.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MyStack stack = new MyStack();</span><br><span class="line"></span><br><span class="line">stack.push(1);</span><br><span class="line">stack.push(2);  </span><br><span class="line">stack.top();   // returns 2</span><br><span class="line">stack.pop();   // returns 2</span><br><span class="line">stack.empty(); // returns false</span><br></pre></td></tr></table></figure>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes:"></a>Notes:</h3><ul>
<li>You must use only standard operations of a queue – which means only push to back, peek/pop from front, size, and is empty operations are valid.</li>
<li>Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue.</li>
<li>You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack).</li>
</ul>
<p>题意：用队列实现栈</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    MyStack() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">        temp.push(x);</span><br><span class="line">        <span class="keyword">while</span> (!_data.empty()) &#123;</span><br><span class="line">            temp.push(_data.front());</span><br><span class="line">            _data.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!temp.empty()) &#123;</span><br><span class="line">            _data.push(temp.front());</span><br><span class="line">            temp.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = _data.front();</span><br><span class="line">        _data.pop();</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _data.front();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> _data.empty();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; _data;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyStack obj = new MyStack();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * bool param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/08/ImplementStackusingQueues/" data-id="cjk5lpixl001ixa8o10hiotj3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stack-queue/">stack&&queue</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linked-List/">Linked List</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arrays/">arrays</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitcoin/">bitcoin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blockchain/">blockchain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cryptocurrency/">cryptocurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ethererum/">ethererum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ethereum/">ethereum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/">golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hyperledger-fabric/">hyperledger-fabric</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stack-queue/">stack&&queue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tree/">tree</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Linked-List/" style="font-size: 16.67px;">Linked List</a> <a href="/tags/arrays/" style="font-size: 20px;">arrays</a> <a href="/tags/bitcoin/" style="font-size: 10px;">bitcoin</a> <a href="/tags/blockchain/" style="font-size: 15px;">blockchain</a> <a href="/tags/cryptocurrency/" style="font-size: 10px;">cryptocurrency</a> <a href="/tags/ethererum/" style="font-size: 10px;">ethererum</a> <a href="/tags/ethereum/" style="font-size: 11.67px;">ethereum</a> <a href="/tags/golang/" style="font-size: 15px;">golang</a> <a href="/tags/hyperledger-fabric/" style="font-size: 10px;">hyperledger-fabric</a> <a href="/tags/leetcode/" style="font-size: 13.33px;">leetcode</a> <a href="/tags/stack-queue/" style="font-size: 11.67px;">stack&&queue</a> <a href="/tags/tree/" style="font-size: 18.33px;">tree</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/07/28/智能合约基本中的基本元素/">智能合约源文件的基本要素概览</a>
          </li>
        
          <li>
            <a href="/2018/07/26/truffle安装以及基本指令/">truffle安装以及基本指令</a>
          </li>
        
          <li>
            <a href="/2018/07/24/go-test初体验/">go_test初体验</a>
          </li>
        
          <li>
            <a href="/2018/07/21/GoroutineAndChannel/">GoroutineAndChannel</a>
          </li>
        
          <li>
            <a href="/2018/07/19/构建微型区块链/">构建微型区块链</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>