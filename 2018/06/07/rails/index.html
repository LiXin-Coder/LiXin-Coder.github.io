<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Rails | Always Be Coding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="RailsTime Limit: 1000MS        Memory Limit: 10000KTotal Submissions: 37325        Accepted: 14466Description There is a famous railway station in PopPush City. Country there is incredibly hilly. The">
<meta name="keywords" content="stack&amp;&amp;queue">
<meta property="og:type" content="article">
<meta property="og:title" content="Rails">
<meta property="og:url" content="http://yoursite.com/2018/06/07/rails/index.html">
<meta property="og:site_name" content="Always Be Coding">
<meta property="og:description" content="RailsTime Limit: 1000MS        Memory Limit: 10000KTotal Submissions: 37325        Accepted: 14466Description There is a famous railway station in PopPush City. Country there is incredibly hilly. The">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2x6edfh7j31o00i8wgz.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2ww5ymbtj31j60y4wp5.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2wwtpum4j31ia0ykn3q.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2wy3fmywj31ci0je0w9.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2wykwwadj31660ky41c.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2wysxjtqj31m20y27gh.jpg">
<meta property="og:updated_time" content="2018-06-07T13:12:46.155Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rails">
<meta name="twitter:description" content="RailsTime Limit: 1000MS        Memory Limit: 10000KTotal Submissions: 37325        Accepted: 14466Description There is a famous railway station in PopPush City. Country there is incredibly hilly. The">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/007330Aply1fs2x6edfh7j31o00i8wgz.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Always Be Coding" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Always Be Coding</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-rails" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/07/rails/" class="article-date">
  <time datetime="2018-06-07T12:56:27.000Z" itemprop="datePublished">2018-06-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Rails
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Rails<br>Time Limit: 1000MS        Memory Limit: 10000K<br>Total Submissions: 37325        Accepted: 14466<br>Description</p>
<p>There is a famous railway station in PopPush City. Country there is incredibly hilly. The station was built in last century. Unfortunately, funds were extremely limited that time. It was possible to establish only a surface track. Moreover, it turned out that the station could be only a dead-end one (see picture) and due to lack of available space it could have only one track. </p>
<p>The local tradition is that every train arriving from the direction A continues in the direction B with coaches reorganized in some way. Assume that the train arriving from the direction A has N &lt;= 1000 coaches numbered in increasing order 1, 2, …, N. The chief for train reorganizations must know whether it is possible to marshal coaches continuing in the direction B so that their order will be a1, a2, …, aN. Help him and write a program that decides whether it is possible to get the required order of coaches. You can assume that single coaches can be disconnected from the train before they enter the station and that they can move themselves until they are on the track in the direction B. You can also suppose that at any time there can be located as many coaches as necessary in the station. But once a coach has entered the station it cannot return to the track in the direction A and also once it has left the station in the direction B it cannot return back to the station. </p>
<p>Input</p>
<p>The input consists of blocks of lines. Each block except the last describes one train and possibly more requirements for its reorganization. In the first line of the block there is the integer N described above. In each of the next lines of the block there is a permutation of 1, 2, …, N. The last line of the block contains just 0. </p>
<p>The last block consists of just one line containing 0.<br>Output</p>
<p>The output contains the lines corresponding to the lines with permutations in the input. A line of the output contains Yes if it is possible to marshal the coaches in the order required on the corresponding line of the input. Otherwise it contains No. In addition, there is one empty line after the lines corresponding to one block of the input. There is no line in the output corresponding to the last <code></code>null’’ block of the input.<br>Sample Input</p>
<p>5<br>1 2 3 4 5<br>5 4 1 2 3<br>0<br>6<br>6 5 4 3 2 1<br>0<br>0<br>Sample Output</p>
<p>Yes<br>No</p>
<p>Yes<br>Source</p>
<p>Central Europe 1997</p>
<p>–<br>题目解析：已知从1至n的数字序列，按顺序入栈，每个数字入栈后即可出栈， 也可在栈中停留，等待后面的数字入栈出栈后，该数字再出栈，求该数字序列<br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2x6edfh7j31o00i8wgz.jpg" alt=""><br>的出栈序列是否合法?<br>思路：利用栈与队列模拟入栈、出栈过程<br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2ww5ymbtj31j60y4wp5.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2wwtpum4j31ia0ykn3q.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2wy3fmywj31ci0je0w9.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2wykwwadj31660ky41c.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/007330Aply1fs2wysxjtqj31m20y27gh.jpg" alt=""></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check_is_valid_order</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; &amp;order)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; S;</span><br><span class="line">	<span class="keyword">int</span> n = order.size();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">		S.push(i);</span><br><span class="line">		<span class="keyword">while</span> (!S.empty() &amp;&amp; order.front() == S.top()) &#123;</span><br><span class="line">			S.pop();</span><br><span class="line">			order.pop();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (!S.empty())</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">int</span> train;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span> (n) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;train);</span><br><span class="line">		<span class="keyword">while</span> (train) &#123;</span><br><span class="line">			<span class="built_in">std</span>::<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; order;</span><br><span class="line">			order.push(train);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">				<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;train);</span><br><span class="line">				order.push(train);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (check_is_valid_order(order))</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"Yes\n"</span>);</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"No\n);</span></span><br><span class="line"><span class="string">			scanf("</span>%d<span class="string">", &amp;train);</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">		printf("</span>\n<span class="string">");</span></span><br><span class="line"><span class="string">		scanf("</span>%d<span class="string">", &amp;n);</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/07/rails/" data-id="cjjl71dr0001eb08oooq9h8ns" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stack-queue/">stack&&queue</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/06/08/CopyListWithRandomPointer/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Copy List with Random Pointer
        
      </div>
    </a>
  
  
    <a href="/2018/06/06/LinkedListCycleII/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linked List Cycle II</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linked-List/">Linked List</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arrays/">arrays</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bitcoin/">bitcoin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blockchain/">blockchain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cryptocurrency/">cryptocurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/">golang</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hyperledger-fabric/">hyperledger-fabric</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stack-queue/">stack&&queue</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/Linked-List/" style="font-size: 17.5px;">Linked List</a> <a href="/tags/arrays/" style="font-size: 20px;">arrays</a> <a href="/tags/bitcoin/" style="font-size: 10px;">bitcoin</a> <a href="/tags/blockchain/" style="font-size: 12.5px;">blockchain</a> <a href="/tags/cryptocurrency/" style="font-size: 10px;">cryptocurrency</a> <a href="/tags/golang/" style="font-size: 12.5px;">golang</a> <a href="/tags/hyperledger-fabric/" style="font-size: 10px;">hyperledger-fabric</a> <a href="/tags/leetcode/" style="font-size: 15px;">leetcode</a> <a href="/tags/stack-queue/" style="font-size: 12.5px;">stack&&queue</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/07/14/11-盛最多水的容器/">11.盛最多水的容器</a>
          </li>
        
          <li>
            <a href="/2018/07/14/345-反转字符串中的元音字母/">345.反转字符串中的元音字母</a>
          </li>
        
          <li>
            <a href="/2018/07/14/344-反转字符串/">344.反转字符串</a>
          </li>
        
          <li>
            <a href="/2018/07/14/125-验证回文串/">125.验证回文串</a>
          </li>
        
          <li>
            <a href="/2018/07/14/215-数组中的第K个最大元素/">215.数组中的第K个最大元素</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>